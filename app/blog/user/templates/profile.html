{% extends "base.html" %}

{% block content %}
<body class="bg-body-tertiary">
    <div class="container">
        <main>
            <div class="py-5 text-center">
              <h2>Profile</h2>
              <p class="lead">Change information about you</p>
            </div>

            <div class="row g-5">
                <form class="needs-validation" novalidate="" method="post" action="{{ url_for('users.profile') }}">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
                    <div class="row g-3">
                        {% with messages = get_flashed_messages() %}
                            {% if messages %}
                                <div class="alert alert-danger">
                                    {{ messages[0] }}
                                </div>
                            {% endif %}
                        {% endwith %}
                        <div class="col-sm-6">
                          <label for="name" class="form-label">Name</label>
                          <input type="text" class="form-control" id="name" name="name" placeholder="" value="{{ user.name }}" required="">
                          <div class="invalid-feedback">
                            Valid first name is required.
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <label for="login" class="form-label">Login</label>
                          <input type="text" class="form-control" id="login" name="login" placeholder="" value="{{ user.login }}" required="">
                          <div class="invalid-feedback">
                            Valid last name is required.
                          </div>
                        </div>

                        <div class="col-sm-6">
                          <label for="password" class="form-label">Password</label>
                          <div class="input-group has-validation">
                            <input type="password" class="form-control" id="password" name="password" placeholder="Password" required="">
                            <div class="invalid-feedback">Your username is required.</div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <label for="confirm_password" class="form-label">Confirm password</label>
                          <div class="input-group has-validation">
                            <input type="password" class="form-control" id="confirm_password" name="confirm_password" placeholder="Confirm password" required="">
                            <div class="invalid-feedback">Your username is required.</div>
                          </div>
                        </div>

                        <div class="col-sm-6">
                            <button class="w-100 btn btn-primary btn-lg" type="submit">Save account</button>
                        </div>
                    </div>
                </form>
            </div>

            <div class="row g-5 py-5">
                <form class="needs-validation" novalidate="" method="post" action="{{ url_for('users.delete') }}">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
                    <div class="row g-3">
                        <div class="col-sm-6">
                            <button class="w-100 btn btn-primary btn-lg" type="submit">Delete account</button>
                        </div>
                    </div>
                </form>
            </div>
        </main>
    </div>
</body>
{% endblock %}